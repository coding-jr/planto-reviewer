{"version":3,"file":"tRandom.js","names":["Context","_interopRequireWildcard","require","_Function","Layer","Random","core","stm","tArray","tRef","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","TRandomSymbolKey","TRandomTypeId","exports","Symbol","for","randomInteger","state","prng","PCGRandom","setState","integer","getState","randomIntegerBetween","low","high","randomNumber","number","withState","f","pipe","modify","shuffleWith","iterable","nextIntBounded","swap","buffer","index1","index2","flatMap","tmp","updateSTM","zipRight","update","fromIterable","array","length","push","forEach","k","discard","toArray","Tag","GenericTag","TRandomImpl","constructor","next","nextBoolean","succeed","nextInt","nextRange","min","max","nextIntBetween","shuffle","elements","live","effect","make","Math","random","map","seed","commit"],"sources":["../../../../src/internal/stm/tRandom.ts"],"sourcesContent":[null],"mappings":"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"}